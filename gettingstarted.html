<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Getting Started &mdash; neuronvisio v0.4.3 documentation</title>
    <link rel="stylesheet" href="static/sphinxdoc.css" type="text/css" />
    <link rel="stylesheet" href="static/pygments.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '#',
        VERSION:     '0.4.3',
        COLLAPSE_MODINDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="static/jquery.js"></script>
    <script type="text/javascript" src="static/doctools.js"></script>
    <link rel="top" title="neuronvisio v0.4.3 documentation" href="index.html" />
    <link rel="next" title="Screenshots" href="screenshots.html" />
    <link rel="prev" title="Install" href="install.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="modindex.html" title="Global Module Index"
             accesskey="M">modules</a> |</li>
        <li class="right" >
          <a href="screenshots.html" title="Screenshots"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="install.html" title="Install"
             accesskey="P">previous</a> |</li>
        <li><a href="index.html">neuronvisio v0.4.3 documentation</a> &raquo;</li> 
      </ul>
    </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
            <h3><a href="index.html">Table Of Contents</a></h3>
            <ul>
<li><a class="reference external" href="#">Getting Started</a><ul>
<li><a class="reference external" href="#how-does-it-work">How does it work</a></li>
<li><a class="reference external" href="#how-to-integrate-neuronvisio-with-your-code">How to integrate NeuronVisio with your code</a><ul>
<li><a class="reference external" href="#python-integration">Python integration</a></li>
<li><a class="reference external" href="#hoc-intergration">Hoc Intergration</a></li>
</ul>
</li>
<li><a class="reference external" href="#neuronvisio-features">NeuronVisio features</a><ul>
<li><a class="reference external" href="#visualization">Visualization</a></li>
<li><a class="reference external" href="#how-to-rotate">How to rotate</a></li>
<li><a class="reference external" href="#how-to-zoom">How to zoom</a></li>
<li><a class="reference external" href="#how-to-move">How to move</a></li>
</ul>
</li>
<li><a class="reference external" href="#plotting-the-simulation-results">Plotting the simulation results</a><ul>
<li><a class="reference external" href="#creating-the-vectors">Creating the vectors</a></li>
<li><a class="reference external" href="#run-the-simulation">Run the simulation</a></li>
<li><a class="reference external" href="#plotting-the-simulation">Plotting the simulation</a></li>
</ul>
</li>
<li><a class="reference external" href="#investigate-the-section-parameters">Investigate the section parameters</a></li>
<li><a class="reference external" href="#loading-and-saving-the-simulation-results">Loading And Saving the simulation results</a><ul>
<li><a class="reference external" href="#using-the-manager-object-to-store-the-results-of-your-simulation">Using the manager object to store the results of your simulation</a></li>
<li><a class="reference external" href="#loading-a-previous-simulation">Loading a previous simulation</a></li>
</ul>
</li>
</ul>
</li>
</ul>

            <h4>Previous topic</h4>
            <p class="topless"><a href="install.html"
                                  title="previous chapter">Install</a></p>
            <h4>Next topic</h4>
            <p class="topless"><a href="screenshots.html"
                                  title="next chapter">Screenshots</a></p>
            <h3>This Page</h3>
            <ul class="this-page-menu">
              <li><a href="sources/gettingstarted.txt"
                     rel="nofollow">Show Source</a></li>
            </ul>
          <div id="searchbox" style="display: none">
            <h3>Quick search</h3>
              <form class="search" action="search.html" method="get">
                <input type="text" name="q" size="18" />
                <input type="submit" value="Go" />
                <input type="hidden" name="check_keywords" value="yes" />
                <input type="hidden" name="area" value="default" />
              </form>
              <p class="searchtip" style="font-size: 90%">
              Enter search terms or a module, class or function name.
              </p>
          </div>
          <script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="getting-started">
<h1>Getting Started<a class="headerlink" href="#getting-started" title="Permalink to this headline">¶</a></h1>
<div class="section" id="how-does-it-work">
<h2>How does it work<a class="headerlink" href="#how-does-it-work" title="Permalink to this headline">¶</a></h2>
<p>You need to use Neuronvisio from an <a class="reference external" href="http://ipython.scipy.org/">ipython</a> console started with the qt4 thread switch:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">ipython</span> <span class="o">-</span><span class="n">q4thread</span>
</pre></div>
</div>
<p>To use the NeuronVisio module, after you have installed you should import with:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">neuronvisio.controls</span> <span class="kn">import</span> <span class="n">Controls</span>
<span class="n">controls</span> <span class="o">=</span> <span class="n">Controls</span><span class="p">()</span>   <span class="c"># starting the GUI</span>
</pre></div>
</div>
<p>The Control class run the main loop of the application with all the GUI activities
in its own thread. The console is ready for input so you can enter your command to
the prompt as you would do normally when using _NEURON.</p>
</div>
<div class="section" id="how-to-integrate-neuronvisio-with-your-code">
<h2>How to integrate NeuronVisio with your code<a class="headerlink" href="#how-to-integrate-neuronvisio-with-your-code" title="Permalink to this headline">¶</a></h2>
<p>The integration is rather simple and you can use either the python or the hoc
scripts that you already have.</p>
<div class="section" id="python-integration">
<h3>Python integration<a class="headerlink" href="#python-integration" title="Permalink to this headline">¶</a></h3>
<p>If you have a model written in python, just import the module on top of your
script. The simple example (in the example directory) give you an idea how to do
it.</p>
<p>A classical template is:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">nrnvisio.controls</span> <span class="kn">import</span> <span class="n">Controls</span>
<span class="kn">from</span> <span class="nn">neuron</span> <span class="kn">import</span> <span class="n">h</span>
<span class="n">controls</span> <span class="o">=</span> <span class="n">Controls</span><span class="p">()</span>   <span class="c"># starting the GUI</span>
<span class="c"># Your model here</span>
</pre></div>
</div>
</div>
<div class="section" id="hoc-intergration">
<h3>Hoc Intergration<a class="headerlink" href="#hoc-intergration" title="Permalink to this headline">¶</a></h3>
<p>You have to load your hoc script using the python interface of _NEURON.
The pyramidal example gives an idea how to integrate existent _NEURON model
with it.</p>
<p>A classical template is:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">nrnvisio.controls</span> <span class="kn">import</span> <span class="n">Controls</span>
<span class="kn">from</span> <span class="nn">neuron</span> <span class="kn">import</span> <span class="n">h</span>
<span class="n">controls</span> <span class="o">=</span> <span class="n">Controls</span><span class="p">()</span>   <span class="c"># starting the GUI</span>
<span class="n">h</span><span class="o">.</span><span class="n">load_file</span><span class="p">(</span><span class="s">&#39;path/to/my_model.hoc&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="neuronvisio-features">
<h2>NeuronVisio features<a class="headerlink" href="#neuronvisio-features" title="Permalink to this headline">¶</a></h2>
<div class="section" id="visualization">
<h3>Visualization<a class="headerlink" href="#visualization" title="Permalink to this headline">¶</a></h3>
<p>To visualize you model after you loaded you have to click the Plot3d button.</p>
<img alt="images/Neuronvisio_Controls.png" src="images/Neuronvisio_Controls.png" />
<p>The 3D window will open showing your model:</p>
<img alt="images/Neuronvisio_3D.png" src="images/Neuronvisio_3D.png" />
</div>
<div class="section" id="how-to-rotate">
<h3>How to rotate<a class="headerlink" href="#how-to-rotate" title="Permalink to this headline">¶</a></h3>
<p>Hold the left button and move the mouse.</p>
</div>
<div class="section" id="how-to-zoom">
<h3>How to zoom<a class="headerlink" href="#how-to-zoom" title="Permalink to this headline">¶</a></h3>
<p>Use your mouse&#8217;s wheel or the right button of the mouse.</p>
</div>
<div class="section" id="how-to-move">
<h3>How to move<a class="headerlink" href="#how-to-move" title="Permalink to this headline">¶</a></h3>
<p>Hold the wheel down and move the mouse.</p>
</div>
</div>
<div class="section" id="plotting-the-simulation-results">
<h2>Plotting the simulation results<a class="headerlink" href="#plotting-the-simulation-results" title="Permalink to this headline">¶</a></h2>
<div class="section" id="creating-the-vectors">
<h3>Creating the vectors<a class="headerlink" href="#creating-the-vectors" title="Permalink to this headline">¶</a></h3>
<p>To plot the simulation&#8217;s results you first have to create a Vector
(or more than one) to record the variable that you are interested in.</p>
<p>For example if you are interested in the voltage you have to insert <cite>v</cite>
in the &#8216;Variable to record` and click <cite>Create Vector</cite>.</p>
<img alt="images/Neuronvisio_Controls_selecting_variable.png" src="images/Neuronvisio_Controls_selecting_variable.png" />
</div>
<div class="section" id="run-the-simulation">
<h3>Run the simulation<a class="headerlink" href="#run-the-simulation" title="Permalink to this headline">¶</a></h3>
<p>The simulation can be run clicking on the <cite>Init &amp; Run</cite> button.
It will run until the tstop.</p>
<img alt="images/Neuronvisio_Controls_Init_and_Run.png" src="images/Neuronvisio_Controls_Init_and_Run.png" />
</div>
<div class="section" id="plotting-the-simulation">
<h3>Plotting the simulation<a class="headerlink" href="#plotting-the-simulation" title="Permalink to this headline">¶</a></h3>
<p>To plot the results click on the tab &#8216;Plots&#8217; and select the variable
from the section you want to plot. Then click <cite>Plot</cite>.</p>
<p>If you want to plot more variables in one go hold <cite>Ctrl</cite> and select as
many as you want, then click <cite>Plot</cite></p>
<p>If you want to insert the legend just select the <cite>legend box</cite></p>
<a class="reference external image-reference" href="images/plotting_variable.png"><img alt="images/plotting_variable.png" src="images/plotting_variable.png" style="width: 573.3px; height: 562.1px;" /></a>
</div>
</div>
<div class="section" id="investigate-the-section-parameters">
<h2>Investigate the section parameters<a class="headerlink" href="#investigate-the-section-parameters" title="Permalink to this headline">¶</a></h2>
<p>Select a section (Just click over it, near the beginning or the end of the cylinder)
and the section info will be displayed in the Sec Info Tab.</p>
<a class="reference external image-reference" href="images/Neuronvisio_sec_info.png"><img alt="images/Neuronvisio_sec_info.png" src="images/Neuronvisio_sec_info.png" style="width: 593.3px; height: 537.2px;" /></a>
</div>
<div class="section" id="loading-and-saving-the-simulation-results">
<h2>Loading And Saving the simulation results<a class="headerlink" href="#loading-and-saving-the-simulation-results" title="Permalink to this headline">¶</a></h2>
<p>Neuronvisio can store simulation&#8217;s results in a sqlite3 database. This is very handy
when you simulation takes a long time to run and you want to inspect again the results,
without re-run it.</p>
<p>More over, if you use the manager object to create the vectors, you can access any simulation&#8217;s
results and explore them with Neuronvisio even of you ran it on a cluster or remote computers.</p>
<p>To do that you need to:</p>
<ol class="arabic simple">
<li>Instantiate the same geometry of the model with which you have ran the simulation</li>
<li>Load the database.</li>
</ol>
<div class="section" id="using-the-manager-object-to-store-the-results-of-your-simulation">
<h3>Using the manager object to store the results of your simulation<a class="headerlink" href="#using-the-manager-object-to-store-the-results-of-your-simulation" title="Permalink to this headline">¶</a></h3>
<p>This is a quick example how to save the simulation in neuronvisio:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="c"># Model geometry already instantiated.</span>
<span class="c">#</span>
<span class="kn">from</span> <span class="nn">neuronvisio.manger</span> <span class="kn">import</span> <span class="n">Manager</span>
<span class="n">manager</span> <span class="o">=</span> <span class="n">Manager</span><span class="p">()</span>
<span class="n">manager</span><span class="o">.</span><span class="n">add_all_vecRef</span><span class="p">(</span><span class="s">&#39;v&#39;</span><span class="p">)</span>

<span class="c"># file where to save the results</span>
<span class="n">filename</span> <span class="o">=</span> <span class="s">&#39;storage.sqlite&#39;</span>
<span class="c"># Saving the vectors</span>
<span class="n">manager</span><span class="o">.</span><span class="n">store_in_db</span><span class="p">(</span><span class="n">filename</span><span class="p">)</span>
</pre></div>
</div>
<p>If you run a lot of simulations you want maybe to run the same script but without rewriting
the same results. Manager has a nice method to help you called create_new_dir:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">saving_dir</span> <span class="o">=</span> <span class="n">manager</span><span class="o">.</span><span class="n">create_new_dir</span><span class="p">()</span> <span class="c"># Create a new dir per Simulation, ordered by Day.</span>
<span class="n">db_name</span> <span class="o">=</span> <span class="s">&#39;storage.sqlite&#39;</span>
<span class="n">filename</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">saving_dir</span><span class="p">,</span> <span class="n">db_name</span><span class="p">)</span>
<span class="c"># Saving the vectors</span>
<span class="n">manager</span><span class="o">.</span><span class="n">store_in_db</span><span class="p">(</span><span class="n">filename</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="loading-a-previous-simulation">
<h3>Loading a previous simulation<a class="headerlink" href="#loading-a-previous-simulation" title="Permalink to this headline">¶</a></h3>
<p>To load the simulation results you need to reload the same kind of geometry.
A Classic approach will be:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">neuronvisio.controls</span> <span class="kn">import</span> <span class="n">Controls</span>

<span class="c"># reload your model here</span>

<span class="n">controls</span> <span class="o">=</span> <span class="n">Controls</span><span class="p">()</span>

<span class="c"># Now you can use the gui, or do it by console.</span>
<span class="c"># Using the gui, click on the Load button.</span>

<span class="c"># Loading the db by code</span>

<span class="n">controls</span><span class="o">.</span><span class="n">manager</span><span class="o">.</span><span class="n">load_db</span><span class="p">(</span><span class="n">path_to_sql_db</span><span class="p">)</span> <span class="c"># Loading the db</span>
<span class="n">controls</span><span class="o">.</span><span class="n">update_tree_view</span><span class="p">()</span> <span class="c"># Updating the vectors view in the plotting tab</span>
</pre></div>
</div>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="modindex.html" title="Global Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="screenshots.html" title="Screenshots"
             >next</a> |</li>
        <li class="right" >
          <a href="install.html" title="Install"
             >previous</a> |</li>
        <li><a href="index.html">neuronvisio v0.4.3 documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
      &copy; Copyright 2009, Michele Mattioni.
      Last updated on Mar 18, 2010.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 0.6.4.
    </div>
  </body>
</html>